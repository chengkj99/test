#  CDN技术概述

> CDN原理  
1.选择最优设备为用户服务；2.如果某个内容被用户所需要，他会被缓存在就近节点。   

> 数百台CDN服务器（Cache）部署在IDC机房中，CDN服务器在Cache中复制内容，当内容提供者更新内容时，CDN向Cache重新分发。
CDN提供一种机制，当用户请求内容时，该内容能被最快提供内容的Cache向用户提供。这个挑选最优的过程称之为负载均衡。  
CDN：内容缓存、负载均衡、流媒体加速、动态内容加速

## 1 功能架构

功能架构在2003年相对稳定。  
CDN系统架构：内容分发系统、负载均衡系统、运营管理系统。  

内容分发系统：

一般由缓存服务器承担。作用是从内容源中心向边缘缓存和推送的内容（内容同步，向客户提供）。  
含有多个子系统，如：网页加速子系统、流媒体加速子系统应用加速子系统等，这是衡量CDN服务能力的指标。  
在承担内容同步、响应用户需求外，还要提供每个设备的响应情况、健康状况等信息。（以供调度决策使用哪个缓存组进行服务）  

负载均衡系统：

<!-- 什么是本地本地负载均衡系统: 就是边缘缓存组的负载均衡-->
也称调度系统，分为：全局负载均衡系统GSLB、本地负载均衡系统SLB。   
运营管理系统：
<!-- 和我们的现有的区别？ -->
包含：运营管理 和 网络管理 两个子系统。  
运营管理：业务层面的管理。包含客户、计费、产品、统计分析等管理。  
网络管理：网络设备管理、拓扑管理、链路监控、故障管理等全网资源集中化的管理。


### 2 部署架构

一般典型的三层架构：边缘层（边缘节点、POP节点）、区域层、中心层。  
中心层可能承担服务响应请求的功能，也有可能只向下级节点服务。   
无论是缓存节点还是中心节点均有 负载均衡设备 和 Cache设备构成。  

<!-- 我们用的是 DR(Direct Router)模式 -->
Cache设备 和 负载均衡设备的链接一般方式两种：旁路（SLB交换机实现）和穿越（并联、公共的IP地址、软件实现）方式。


### 3 CDN系统分类

CDN发展和互联网发展相辅相成。  
可以从两个视角进行分类： 1.不同服务承载类型；2.不同内容生成机制；   

基于不同服务承载类型：1.网页加速；2.流媒体加速；3.文件传输加速；4.应用协议加速；

基于不同内容生成机制：   
互联网的内容主要有两类：1.静态内容；2.动态内容；  
Web网站系统在逻辑上划分三个层次：变现层、业务逻辑层、数据访问层。



<!-- 请求的端口号不同 ？？ -->

<!-- 根据质量和成本选择融合线路 -->

<!-- CDN的成本除了硬件的成本就是带宽的成本 -->
