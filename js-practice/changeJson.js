const data = [
{
"id": 1,
"view": "默认",
"parent_id": -1,
"view_level": 0,
"qans_view_id": 0
},
{
"id": 2,
"view": "电信",
"parent_id": 0,
"view_level": 1,
"qans_view_id": 131072
},
{
"id": 3,
"view": "联通",
"parent_id": 0,
"view_level": 1,
"qans_view_id": 327680
},
{
"id": 4,
"view": "教育网",
"parent_id": 0,
"view_level": 1,
"qans_view_id": 393216
},
{
"id": 5,
"view": "移动",
"parent_id": 0,
"view_level": 1,
"qans_view_id": 262144
},
{
"id": 6,
"view": "铁通",
"parent_id": 0,
"view_level": 1,
"qans_view_id": 524288
},
{
"id": 7,
"view": "长城宽带",
"parent_id": 0,
"view_level": 1,
"qans_view_id": 589824
},
{
"id": 8,
"view": "杭州华数",
"parent_id": 0,
"view_level": 1,
"qans_view_id": 1246496
},
{
"id": 9,
"view": "华北电信",
"parent_id": 2,
"view_level": 2,
"qans_view_id": 132608
},
{
"id": 10,
"view": "华北联通",
"parent_id": 3,
"view_level": 2,
"qans_view_id": 329216
},
{
"id": 11,
"view": "华北移动",
"parent_id": 5,
"view_level": 2,
"qans_view_id": 263680
},
{
"id": 12,
"view": "东北电信",
"parent_id": 2,
"view_level": 2,
"qans_view_id": 133120
},
{
"id": 13,
"view": "东北联通",
"parent_id": 3,
"view_level": 2,
"qans_view_id": 329728
},
{
"id": 14,
"view": "东北移动",
"parent_id": 5,
"view_level": 2,
"qans_view_id": 264192
},
{
"id": 15,
"view": "华东电信",
"parent_id": 2,
"view_level": 2,
"qans_view_id": 131584
},
{
"id": 16,
"view": "华东联通",
"parent_id": 3,
"view_level": 2,
"qans_view_id": 328192
},
{
"id": 17,
"view": "华东移动",
"parent_id": 5,
"view_level": 2,
"qans_view_id": 262656
},
{
"id": 18,
"view": "华中电信",
"parent_id": 2,
"view_level": 2,
"qans_view_id": 132864
},
{
"id": 19,
"view": "华中联通",
"parent_id": 3,
"view_level": 2,
"qans_view_id": 329472
},
{
"id": 20,
"view": "华中移动",
"parent_id": 5,
"view_level": 2,
"qans_view_id": 263936
},
{
"id": 21,
"view": "华南电信",
"parent_id": 2,
"view_level": 2,
"qans_view_id": 132352
},
{
"id": 22,
"view": "华南联通",
"parent_id": 3,
"view_level": 2,
"qans_view_id": 328960
},
{
"id": 23,
"view": "华南移动",
"parent_id": 5,
"view_level": 2,
"qans_view_id": 263424
},
{
"id": 24,
"view": "西南电信",
"parent_id": 2,
"view_level": 2,
"qans_view_id": 132096
},
{
"id": 25,
"view": "西南联通",
"parent_id": 3,
"view_level": 2,
"qans_view_id": 328704
},
{
"id": 26,
"view": "西南移动",
"parent_id": 5,
"view_level": 2,
"qans_view_id": 263168
},
{
"id": 27,
"view": "西北电信",
"parent_id": 2,
"view_level": 2,
"qans_view_id": 131840
},
{
"id": 28,
"view": "西北联通",
"parent_id": 3,
"view_level": 2,
"qans_view_id": 328448
},
{
"id": 29,
"view": "西北移动",
"parent_id": 5,
"view_level": 2,
"qans_view_id": 262912
},
{
"id": 30,
"view": "北京移动",
"parent_id": 11,
"view_level": 3,
"qans_view_id": 263690
},
{
"id": 31,
"view": "北京电信",
"parent_id": 9,
"view_level": 3,
"qans_view_id": 132618
},
{
"id": 32,
"view": "北京联通",
"parent_id": 10,
"view_level": 3,
"qans_view_id": 198154
},
{
"id": 33,
"view": "河北移动",
"parent_id": 11,
"view_level": 3,
"qans_view_id": 263701
},
{
"id": 34,
"view": "河北电信",
"parent_id": 9,
"view_level": 3,
"qans_view_id": 132629
},
{
"id": 35,
"view": "河北联通",
"parent_id": 10,
"view_level": 3,
"qans_view_id": 198165
},
{
"id": 36,
"view": "天津移动",
"parent_id": 11,
"view_level": 3,
"qans_view_id": 263689
},
{
"id": 37,
"view": "天津电信",
"parent_id": 9,
"view_level": 3,
"qans_view_id": 132617
},
{
"id": 38,
"view": "天津联通",
"parent_id": 10,
"view_level": 3,
"qans_view_id": 198153
},
{
"id": 39,
"view": "山西移动",
"parent_id": 11,
"view_level": 3,
"qans_view_id": 263943
},
{
"id": 40,
"view": "山西电信",
"parent_id": 9,
"view_level": 3,
"qans_view_id": 132871
},
{
"id": 41,
"view": "山西联通",
"parent_id": 10,
"view_level": 3,
"qans_view_id": 198407
},
{
"id": 42,
"view": "内蒙移动",
"parent_id": 11,
"view_level": 3,
"qans_view_id": 263708
},
{
"id": 43,
"view": "内蒙电信",
"parent_id": 9,
"view_level": 3,
"qans_view_id": 132636
},
{
"id": 44,
"view": "内蒙联通",
"parent_id": 10,
"view_level": 3,
"qans_view_id": 198172
},
{
"id": 45,
"view": "黑龙江移动",
"parent_id": 14,
"view_level": 3,
"qans_view_id": 264214
},
{
"id": 46,
"view": "黑龙江电信",
"parent_id": 12,
"view_level": 3,
"qans_view_id": 133142
},
{
"id": 47,
"view": "黑龙江联通",
"parent_id": 13,
"view_level": 3,
"qans_view_id": 198678
},
{
"id": 48,
"view": "吉林移动",
"parent_id": 14,
"view_level": 3,
"qans_view_id": 264208
},
{
"id": 49,
"view": "吉林电信",
"parent_id": 12,
"view_level": 3,
"qans_view_id": 133136
},
{
"id": 50,
"view": "吉林联通",
"parent_id": 13,
"view_level": 3,
"qans_view_id": 198672
},
{
"id": 51,
"view": "辽宁移动",
"parent_id": 14,
"view_level": 3,
"qans_view_id": 264219
},
{
"id": 52,
"view": "辽宁电信",
"parent_id": 12,
"view_level": 3,
"qans_view_id": 133147
},
{
"id": 53,
"view": "辽宁联通",
"parent_id": 13,
"view_level": 3,
"qans_view_id": 198683
},
{
"id": 54,
"view": "江苏移动",
"parent_id": 17,
"view_level": 3,
"qans_view_id": 262682
},
{
"id": 55,
"view": "江苏电信",
"parent_id": 15,
"view_level": 3,
"qans_view_id": 131610
},
{
"id": 56,
"view": "江苏联通",
"parent_id": 16,
"view_level": 3,
"qans_view_id": 197146
},
{
"id": 57,
"view": "上海移动",
"parent_id": 17,
"view_level": 3,
"qans_view_id": 262685
},
{
"id": 58,
"view": "上海电信",
"parent_id": 15,
"view_level": 3,
"qans_view_id": 131613
},
{
"id": 59,
"view": "上海联通",
"parent_id": 16,
"view_level": 3,
"qans_view_id": 197149
},
{
"id": 60,
"view": "浙江移动",
"parent_id": 17,
"view_level": 3,
"qans_view_id": 262686
},
{
"id": 61,
"view": "浙江电信",
"parent_id": 15,
"view_level": 3,
"qans_view_id": 131614
},
{
"id": 62,
"view": "浙江联通",
"parent_id": 16,
"view_level": 3,
"qans_view_id": 197150
},
{
"id": 63,
"view": "安徽移动",
"parent_id": 17,
"view_level": 3,
"qans_view_id": 262687
},
{
"id": 64,
"view": "安徽电信",
"parent_id": 15,
"view_level": 3,
"qans_view_id": 131615
},
{
"id": 65,
"view": "安徽联通",
"parent_id": 16,
"view_level": 3,
"qans_view_id": 197151
},
{
"id": 66,
"view": "福建移动",
"parent_id": 17,
"view_level": 3,
"qans_view_id": 263436
},
{
"id": 67,
"view": "福建电信",
"parent_id": 15,
"view_level": 3,
"qans_view_id": 132364
},
{
"id": 68,
"view": "福建联通",
"parent_id": 16,
"view_level": 3,
"qans_view_id": 197900
},
{
"id": 69,
"view": "江西移动",
"parent_id": 17,
"view_level": 3,
"qans_view_id": 262670
},
{
"id": 70,
"view": "江西电信",
"parent_id": 15,
"view_level": 3,
"qans_view_id": 131598
},
{
"id": 71,
"view": "江西联通",
"parent_id": 16,
"view_level": 3,
"qans_view_id": 197134
},
{
"id": 72,
"view": "山东移动",
"parent_id": 17,
"view_level": 3,
"qans_view_id": 263688
},
{
"id": 73,
"view": "山东电信",
"parent_id": 15,
"view_level": 3,
"qans_view_id": 132616
},
{
"id": 74,
"view": "山东联通",
"parent_id": 16,
"view_level": 3,
"qans_view_id": 198152
},
{
"id": 75,
"view": "湖北移动",
"parent_id": 20,
"view_level": 3,
"qans_view_id": 263960
},
{
"id": 76,
"view": "湖北电信",
"parent_id": 18,
"view_level": 3,
"qans_view_id": 132888
},
{
"id": 77,
"view": "湖北联通",
"parent_id": 19,
"view_level": 3,
"qans_view_id": 198424
},
{
"id": 78,
"view": "湖南移动",
"parent_id": 20,
"view_level": 3,
"qans_view_id": 263961
},
{
"id": 79,
"view": "湖南电信",
"parent_id": 18,
"view_level": 3,
"qans_view_id": 132889
},
{
"id": 80,
"view": "湖南联通",
"parent_id": 19,
"view_level": 3,
"qans_view_id": 198425
},
{
"id": 81,
"view": "河南移动",
"parent_id": 20,
"view_level": 3,
"qans_view_id": 263703
},
{
"id": 82,
"view": "河南电信",
"parent_id": 18,
"view_level": 3,
"qans_view_id": 132631
},
{
"id": 83,
"view": "河南联通",
"parent_id": 19,
"view_level": 3,
"qans_view_id": 198167
},
{
"id": 84,
"view": "广东移动",
"parent_id": 23,
"view_level": 3,
"qans_view_id": 263435
},
{
"id": 85,
"view": "广东电信",
"parent_id": 21,
"view_level": 3,
"qans_view_id": 132363
},
{
"id": 86,
"view": "广东联通",
"parent_id": 22,
"view_level": 3,
"qans_view_id": 197899
},
{
"id": 87,
"view": "广西移动",
"parent_id": 23,
"view_level": 3,
"qans_view_id": 263442
},
{
"id": 88,
"view": "广西电信",
"parent_id": 21,
"view_level": 3,
"qans_view_id": 132370
},
{
"id": 89,
"view": "广西联通",
"parent_id": 22,
"view_level": 3,
"qans_view_id": 197906
},
{
"id": 90,
"view": "海南移动",
"parent_id": 23,
"view_level": 3,
"qans_view_id": 263444
},
{
"id": 91,
"view": "海南电信",
"parent_id": 21,
"view_level": 3,
"qans_view_id": 132372
},
{
"id": 92,
"view": "海南联通",
"parent_id": 22,
"view_level": 3,
"qans_view_id": 197908
},
{
"id": 93,
"view": "四川移动",
"parent_id": 26,
"view_level": 3,
"qans_view_id": 263174
},
{
"id": 94,
"view": "四川电信",
"parent_id": 24,
"view_level": 3,
"qans_view_id": 132102
},
{
"id": 95,
"view": "四川联通",
"parent_id": 25,
"view_level": 3,
"qans_view_id": 197638
},
{
"id": 96,
"view": "西藏移动",
"parent_id": 26,
"view_level": 3,
"qans_view_id": 263172
},
{
"id": 97,
"view": "西藏电信",
"parent_id": 24,
"view_level": 3,
"qans_view_id": 132100
},
{
"id": 98,
"view": "西藏联通",
"parent_id": 25,
"view_level": 3,
"qans_view_id": 197636
},
{
"id": 99,
"view": "云南移动",
"parent_id": 26,
"view_level": 3,
"qans_view_id": 263173
},
{
"id": 100,
"view": "云南电信",
"parent_id": 24,
"view_level": 3,
"qans_view_id": 132101
},
{
"id": 101,
"view": "云南联通",
"parent_id": 25,
"view_level": 3,
"qans_view_id": 197637
},
{
"id": 102,
"view": "重庆移动",
"parent_id": 26,
"view_level": 3,
"qans_view_id": 263181
},
{
"id": 103,
"view": "重庆电信",
"parent_id": 24,
"view_level": 3,
"qans_view_id": 132109
},
{
"id": 104,
"view": "重庆联通",
"parent_id": 25,
"view_level": 3,
"qans_view_id": 197645
},
{
"id": 105,
"view": "贵州移动",
"parent_id": 26,
"view_level": 3,
"qans_view_id": 263187
},
{
"id": 106,
"view": "贵州电信",
"parent_id": 24,
"view_level": 3,
"qans_view_id": 132115
},
{
"id": 107,
"view": "贵州联通",
"parent_id": 25,
"view_level": 3,
"qans_view_id": 197651
},
{
"id": 108,
"view": "甘肃移动",
"parent_id": 29,
"view_level": 3,
"qans_view_id": 262929
},
{
"id": 109,
"view": "甘肃电信",
"parent_id": 27,
"view_level": 3,
"qans_view_id": 131857
},
{
"id": 110,
"view": "甘肃联通",
"parent_id": 28,
"view_level": 3,
"qans_view_id": 197393
},
{
"id": 111,
"view": "新疆移动",
"parent_id": 29,
"view_level": 3,
"qans_view_id": 262927
},
{
"id": 112,
"view": "新疆电信",
"parent_id": 27,
"view_level": 3,
"qans_view_id": 131855
},
{
"id": 113,
"view": "新疆联通",
"parent_id": 28,
"view_level": 3,
"qans_view_id": 197391
},
{
"id": 114,
"view": "陕西移动",
"parent_id": 29,
"view_level": 3,
"qans_view_id": 262915
},
{
"id": 115,
"view": "陕西电信",
"parent_id": 27,
"view_level": 3,
"qans_view_id": 131843
},
{
"id": 116,
"view": "陕西联通",
"parent_id": 28,
"view_level": 3,
"qans_view_id": 197379
},
{
"id": 117,
"view": "青海移动",
"parent_id": 29,
"view_level": 3,
"qans_view_id": 262913
},
{
"id": 118,
"view": "青海电信",
"parent_id": 27,
"view_level": 3,
"qans_view_id": 131841
},
{
"id": 119,
"view": "青海联通",
"parent_id": 28,
"view_level": 3,
"qans_view_id": 197377
},
{
"id": 120,
"view": "宁夏移动",
"parent_id": 29,
"view_level": 3,
"qans_view_id": 262914
},
{
"id": 121,
"view": "宁夏电信",
"parent_id": 27,
"view_level": 3,
"qans_view_id": 131842
},
{
"id": 122,
"view": "宁夏联通",
"parent_id": 28,
"view_level": 3,
"qans_view_id": 197378
}
]

function getStr(data, id, level) {
  for (var i = 0; i < data.length; i++) {
    if (level === 3) {
      if(id === data[i].id) {
        return getStr(data, data[i].parent_id)
      }
    } else {
      if(id === data[i].id) {
        return data[i].view
      }
    }
  }
}

let str = '华北电信'
function getReadyJson2 (data, str) {
  debugger;
  for (var i = 0; i < data.length; i++) {
    if(data[i].view === str){
      if (data[i].view_level === 0 || data[i].view_level === 1) {
        return {
          optV: str,
          bigV: '',
          samllV: ''
        }
      }
      if (data[i].view_level === 2) {
        return {
          optV: getStr(data, data[i].parent_id),
          bigV: str,
          samllV: ''
        }
      }
      if (data[i].view_level === 3) {
        return {
          optV: getStr(data, data[i].parent_id, 3),
          bigV: getStr(data, data[i].parent_id),
          samllV: str
        }
      }
    }
  }
}

function getEachView (data) {
  let [optView, bigView, smallView] = [[],[],[]]
  for (var i = 0; i < data.length; i++) {
    if (data[i].view_level === 0 || data[i].view_level === 1) {
      optView.push(data[i])
    }
    if (data[i].view_level === 2) {
      bigView.push(data[i])
    }
    if (data[i].view_level === 3) {
      smallView.push(data[i])
    }
  }
  let eachView = [optView, bigView, smallView]
  return eachView
}
function getEachView2 (data) {
  let [optView, bigView, smallView] = [[],[],[]]
  for (var i = 0; i < data.length; i++) {
    if (data[i].view_level === 0 || data[i].view_level === 1) {
      data[i]['children'] = []
      optView.push(data[i])
    }
    if (data[i].view_level === 2) {
      data[i]['children'] = []
      bigView.push(data[i])
    }
    if (data[i].view_level === 3) {
      smallView.push(data[i])
    }
  }
  for (let i = 0; i < bigView.length; i++) {
    for (let j = 0; j < smallView.length; j++) {
      if (bigView[i].id === smallView[j].parent_id) {
        bigView[i].children.push((smallView[j]))
      }
    }
  }

  for (let i = 0; i < optView.length; i++) {
    for (let j = 0; j < bigView.length; j++) {
      if (optView[i].id === bigView[j].parent_id) {
        optView[i].children.push((bigView[j]))
      }
    }
  }
  return optView
}
var startT =new Date().getTime()
// console.log(getStr(data, 111))
// console.log(getReadyJson2(data, str))
console.log('------------------------------------');
console.log(getEachView(data));
// console.log(getEachView2(data));






var endT =new Date().getTime()
var useT = endT - startT
console.log("用时：" + useT);
