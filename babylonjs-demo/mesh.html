<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Babylon Template</title>

    <style>
        html,
        body {
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        #renderCanvas {
            width: 100%;
            height: 100%;
            touch-action: none;
        }
    </style>

    <script src="https://preview.babylonjs.com/babylon.js"></script>
    <script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
    <!-- 在平板电脑和手机上使用的 BabylonJS 使用指针事件而不是鼠标事件，因此也需要加载PEP事件系统 -->
    <!-- pep.js 是较近的建议，还有一个 hand.js 也可以工作 -->
    <script src="https://code.jquery.com/pep/0.4.3/pep.js"></script>
</head>

<body>

    <canvas id="renderCanvas" touch-action="none"></canvas> <!-- touch-action="none" for best results from PEP -->



    <script>
        var canvas = document.getElementById("renderCanvas"); // Get the canvas element
        var engine = new BABYLON.Engine(canvas, true); // Generate the BABYLON 3D engine

        /******* Add the create scene function ******/
        var createScene = function () {
            var scene = new BABYLON.Scene(engine);

            BABYLON.SceneLoader.ImportMesh("", "./assets/01_Kubo_JQR/", "Kubo_JQR.gltf", scene,
                function (
                    meshes) {
                    // scene.createDefaultCameraOrLight(true, true, true);
                    scene.createDefaultCameraOrLight(true, true, true);
                    scene.createDefaultEnvironment();
                });

            return scene;
        };

        /******* End of the create scene function ******/

        var scene = createScene(); //Call the createScene function

        // Register a render loop to repeatedly render the scene
        engine.runRenderLoop(function () {
            setTimeout(() => {
                if (scene) {
                    scene.render();
                }
            }, 1000)
        });

        // Watch for browser/canvas resize events
        window.addEventListener("resize", function () {
            engine.resize();
        });
    </script>

</body>

</html>